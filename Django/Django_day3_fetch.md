## やったこと
ひたすら最終課題に取り組んだ。  


Djangoの最終課題のAjaxをFetchに書き換える。  
その中で詰まった部分をまとめる。。  

### 1. 途中からブラウザに何も反応しなくなった。。
これで実に3時間くらい無駄なことをしていた。。。  

#### 対処法
chromeのキャッシュを消去したら治った！！  
原因は掴めていないが、同様の現象が起きたときに対応できそう  


### 2. ひたすら403errorが出ていた！！
Djnagoはheaderに`'X-CSRFToken': csrftoken,`を設定しないと受け付けてくれないようだ  


### prefetch_relatedを使う
**一度のクエリでリレーション先のオブジェクトも取ってくるもの**  

#### select_related()との違い
select_related()の場合: リレーション先のオブジェクトも含めてSQLでSELECTを実行してオブジェクトを取得している  
そのためリレーション先のオブジェクトも含めて一度のクエリですべての対象オブジェクトを取得している  
しかし、これをM2Mの関係で行うとすごい数のオブジェクトを取得することになるため、  
select_relatedは`ForeignKey`か`one-to-one`のリレーションにだけ行うよう制限されてる  

